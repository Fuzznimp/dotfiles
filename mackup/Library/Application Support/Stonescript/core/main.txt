var C = import Stonescript/core/variables/constants
var Tracer = import Stonescript/observability/tracer
var Potion = import Stonescript/core/utils/potion
var Abilities = import Stonescript/core/utils/abilities/abilities
var GS = import Stonescript/core/variables/game-state

?loc.begin | loc.loop
  Potion.create()

Abilities.handle()

// NOTE: UI stuff.
Tracer.display_trace()

// NOTE: Update dynamic variables, and clear lists if needed.
func update_game_state()
  Tracer.spans.Clear()
  GS.update()
  // NOTE: For some reason, having the return will break the tracing.
  // Need to investigate.
  // return

update_game_state()
